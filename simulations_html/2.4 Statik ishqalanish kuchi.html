<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Statik Ishqalanish</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 8px;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 16px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.3rem;
            margin-bottom: 4px;
        }

        .header p {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .content {
            padding: 12px;
        }

        .canvas-wrapper {
            background: #e8f4f8;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 12px;
            border: 2px solid #3498db;
        }

        canvas {
            width: 100%;
            height: 250px;
            display: block;
            background: white;
            border-radius: 8px;
            touch-action: none;
        }

        .controls {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 12px;
        }

        .control-group {
            margin-bottom: 16px;
        }

        .control-group label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .value {
            background: #3498db;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        input[type="range"] {
            width: 100%;
            height: 40px;
            -webkit-appearance: none;
            appearance: none;
            background: #ddd;
            border-radius: 20px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 40px;
            height: 40px;
            background: #3498db;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 40px;
            height: 40px;
            background: #3498db;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 12px;
        }

        button {
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        button:active {
            transform: scale(0.95);
        }

        .data-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 12px;
        }

        .data-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }

        .data-label {
            font-size: 0.75rem;
            color: #666;
            margin-bottom: 4px;
        }

        .data-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2c3e50;
        }

        .status {
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .status-static {
            background: rgba(76, 175, 80, 0.1);
            color: #4caf50;
        }

        .status-moving {
            background: rgba(244, 67, 54, 0.1);
            color: #f44336;
        }

        .info {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 12px;
            border-radius: 0 8px 8px 0;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        .formula {
            background: #2c3e50;
            color: white;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            text-align: center;
            margin: 8px 0;
        }

        @media (min-width: 768px) {
            .container {
                max-width: 600px;
                margin: 0 auto;
            }
            
            canvas {
                height: 300px;
            }
            
            .buttons {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ö° Statik Ishqalanish</h1>
            <p>Interaktiv simulyatsiya</p>
        </div>

        <div class="content">
            <div class="canvas-wrapper">
                <canvas id="canvas"></canvas>
            </div>

            <div class="status" id="status">
                üü¢ Harakatsiz
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>
                        <span>Massa (m)</span>
                        <span class="value" id="massVal">5.0 kg</span>
                    </label>
                    <input type="range" id="mass" min="1" max="20" value="5" step="0.1">
                </div>

                <div class="control-group">
                    <label>
                        <span>Ishqalanish (Œº‚Çõ)</span>
                        <span class="value" id="muVal">0.30</span>
                    </label>
                    <input type="range" id="mu" min="0.1" max="1" value="0.3" step="0.01">
                </div>

                <div class="control-group">
                    <label>
                        <span>Kuch (F)</span>
                        <span class="value" id="forceVal">0.0 N</span>
                    </label>
                    <input type="range" id="force" min="0" max="50" value="0" step="0.1">
                </div>
            </div>

            <div class="buttons">
                <button class="btn-primary" id="play">‚ñ∂ Boshlash</button>
                <button class="btn-secondary" id="pause">‚è∏ Pauza</button>
                <button class="btn-danger" id="reset">üîÑ Reset</button>
                <button class="btn-secondary" id="vectors">üëÅ Vektorlar</button>
            </div>

            <div class="data-grid">
                <div class="data-item">
                    <div class="data-label">Normal kuch</div>
                    <div class="data-value" id="normalF">49.0 N</div>
                </div>
                <div class="data-item">
                    <div class="data-label">Maks ishqalanish</div>
                    <div class="data-value" id="maxFric">14.7 N</div>
                </div>
                <div class="data-item">
                    <div class="data-label">Joriy ishqalanish</div>
                    <div class="data-value" id="curFric">0.0 N</div>
                </div>
                <div class="data-item">
                    <div class="data-label">Natijaviy kuch</div>
                    <div class="data-value" id="netF">0.0 N</div>
                </div>
            </div>

            <div class="info">
                <strong>üìö Formula:</strong>
                <div class="formula">f‚Çõ ‚â§ Œº‚Çõ √ó N = Œº‚Çõ √ó mg</div>
                <p><strong>f‚Çõ</strong> - statik ishqalanish kuchi</p>
                <p><strong>Œº‚Çõ</strong> - ishqalanish koeffitsienti</p>
                <p><strong>N</strong> - normal kuch</p>
                <p><strong>m</strong> - massa, <strong>g</strong> = 9.8 m/s¬≤</p>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let state = {
            mass: 5.0,
            mu: 0.3,
            force: 0,
            g: 9.8,
            blockX: 80,
            running: false,
            showVectors: true,
            animId: null
        };

        function setupCanvas() {
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * 2;
            canvas.height = rect.height * 2;
            ctx.scale(2, 2);
        }

        function draw() {
            const w = canvas.width / 2;
            const h = canvas.height / 2;
            
            ctx.clearRect(0, 0, w, h);
            
            // Background
            const grad = ctx.createLinearGradient(0, 0, 0, h);
            grad.addColorStop(0, '#e3f2fd');
            grad.addColorStop(1, '#bbdefb');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, w, h);
            
            // Surface
            ctx.fillStyle = '#8d6e63';
            ctx.fillRect(0, h - 60, w, 60);
            
            // Block
            const N = state.mass * state.g;
            const maxFric = state.mu * N;
            const isMoving = state.force > maxFric;
            
            ctx.fillStyle = isMoving ? '#f44336' : '#2196f3';
            ctx.fillRect(state.blockX, h - 110, 50, 40);
            
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.strokeRect(state.blockX, h - 110, 50, 40);
            
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 12px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText(state.mass.toFixed(1), state.blockX + 25, h - 85);
            
            // Vectors
            if (state.showVectors) {
                const cx = state.blockX + 25;
                const cy = h - 90;
                
                // Applied force
                if (state.force > 0) {
                    drawArrow(cx, cy, cx + state.force * 1.5, cy, '#4caf50');
                }
                
                // Friction
                const curFric = Math.min(state.force, maxFric);
                if (curFric > 0) {
                    drawArrow(cx, cy, cx - curFric * 1.5, cy, '#9c27b0');
                }
                
                // Normal
                drawArrow(cx, cy, cx, cy - N * 0.7, '#2196f3');
                
                // Weight
                drawArrow(cx, cy, cx, cy + N * 0.7, '#ff5722');
            }
            
            updateData();
        }

        function drawArrow(x1, y1, x2, y2, color) {
            const dx = x2 - x1;
            const dy = y2 - y1;
            const angle = Math.atan2(dy, dx);
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 3;
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(x2, y2);
            ctx.lineTo(x2 - 10 * Math.cos(angle - Math.PI/6), y2 - 10 * Math.sin(angle - Math.PI/6));
            ctx.lineTo(x2 - 10 * Math.cos(angle + Math.PI/6), y2 - 10 * Math.sin(angle + Math.PI/6));
            ctx.closePath();
            ctx.fill();
        }

        function updateData() {
            const N = state.mass * state.g;
            const maxFric = state.mu * N;
            const curFric = Math.min(state.force, maxFric);
            const netF = state.force - curFric;
            const isMoving = state.force > maxFric;
            
            document.getElementById('normalF').textContent = N.toFixed(1) + ' N';
            document.getElementById('maxFric').textContent = maxFric.toFixed(1) + ' N';
            document.getElementById('curFric').textContent = curFric.toFixed(1) + ' N';
            document.getElementById('netF').textContent = netF.toFixed(1) + ' N';
            
            const status = document.getElementById('status');
            if (isMoving) {
                status.textContent = 'üî¥ Harakatda';
                status.className = 'status status-moving';
            } else {
                status.textContent = 'üü¢ Harakatsiz';
                status.className = 'status status-static';
            }
            
            if (isMoving && state.blockX < canvas.width / 2 - 50) {
                state.blockX += 0.5;
            }
        }

        function animate() {
            if (!state.running) return;
            
            state.force += 0.1;
            if (state.force > 50) {
                state.force = 50;
                state.running = false;
            }
            
            document.getElementById('force').value = state.force;
            document.getElementById('forceVal').textContent = state.force.toFixed(1) + ' N';
            
            draw();
            state.animId = requestAnimationFrame(animate);
        }

        // Event listeners
        document.getElementById('mass').addEventListener('input', (e) => {
            state.mass = parseFloat(e.target.value);
            document.getElementById('massVal').textContent = state.mass.toFixed(1) + ' kg';
            draw();
        });

        document.getElementById('mu').addEventListener('input', (e) => {
            state.mu = parseFloat(e.target.value);
            document.getElementById('muVal').textContent = state.mu.toFixed(2);
            draw();
        });

        document.getElementById('force').addEventListener('input', (e) => {
            state.force = parseFloat(e.target.value);
            document.getElementById('forceVal').textContent = state.force.toFixed(1) + ' N';
            draw();
        });

        document.getElementById('play').addEventListener('click', () => {
            state.running = true;
            animate();
        });

        document.getElementById('pause').addEventListener('click', () => {
            state.running = false;
            if (state.animId) cancelAnimationFrame(state.animId);
        });

        document.getElementById('reset').addEventListener('click', () => {
            state.running = false;
            state.force = 0;
            state.blockX = 80;
            if (state.animId) cancelAnimationFrame(state.animId);
            document.getElementById('force').value = 0;
            document.getElementById('forceVal').textContent = '0.0 N';
            draw();
        });

        document.getElementById('vectors').addEventListener('click', () => {
            state.showVectors = !state.showVectors;
            draw();
        });

        // Touch interaction
        let touchStartX = 0;
        canvas.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const dx = (e.touches[0].clientX - touchStartX) * 0.1;
            state.force = Math.max(0, Math.min(50, state.force + dx));
            document.getElementById('force').value = state.force;
            document.getElementById('forceVal').textContent = state.force.toFixed(1) + ' N';
            touchStartX = e.touches[0].clientX;
            draw();
        });

        // Initialize
        window.addEventListener('load', () => {
            setupCanvas();
            draw();
        });

        window.addEventListener('resize', () => {
            setupCanvas();
            draw();
        });
    </script>
</body>
</html>
