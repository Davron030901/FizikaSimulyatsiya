<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nyutonning birinchi qonuni</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            touch-action: manipulation;
            padding: 8px;
        }
        .container { max-width: 100%; }
        .header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 12px;
            margin-bottom: 10px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .header h1 { 
            color: #2c3e50; 
            font-size: 1.3rem; 
            margin-bottom: 5px;
            line-height: 1.3;
        }
        .header p { 
            color: #7f8c8d; 
            font-size: 0.85rem;
            line-height: 1.4;
        }
        .sim-box {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 12px;
            margin-bottom: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .preset-btns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 10px;
        }
        .btn {
            padding: 12px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.2s ease;
            color: white;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .btn-primary { background: linear-gradient(45deg, #4CAF50, #45a049); }
        .btn-secondary { background: linear-gradient(45deg, #2196F3, #1976D2); }
        .btn-danger { background: linear-gradient(45deg, #f44336, #d32f2f); }
        .btn-warning { background: linear-gradient(45deg, #ff9800, #f57c00); }
        .btn:active { transform: scale(0.95); opacity: 0.8; }
        
        .canvas-wrap {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 10px;
            margin-bottom: 10px;
            border: 2px solid #e9ecef;
            position: relative;
            overflow: hidden;
        }
        #canvas {
            width: 100%;
            height: 300px;
            border-radius: 8px;
            background: linear-gradient(180deg, #87CEEB 0%, #98FB98 100%);
            touch-action: none;
            display: block;
        }
        .info-overlay {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.9);
            padding: 8px 10px;
            border-radius: 8px;
            font-size: 0.75rem;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .info-overlay div { margin-bottom: 3px; }
        .info-overlay strong { color: #2c3e50; }
        
        .status-compact {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 10px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            font-size: 0.8rem;
        }
        .stat-item {
            background: white;
            padding: 8px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-label { 
            color: #666; 
            font-size: 0.7rem;
            margin-bottom: 3px;
        }
        .stat-value { 
            font-weight: 700; 
            color: #1976D2;
            font-size: 0.9rem;
        }
        
        .ctrl-btns {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .accordion {
            background: white;
            border-radius: 10px;
            margin-bottom: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .acc-header {
            padding: 12px;
            background: #f8f9fa;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.9rem;
            user-select: none;
        }
        .acc-header:active { background: #e9ecef; }
        .acc-icon {
            transition: transform 0.3s;
            font-size: 1.2rem;
        }
        .acc-icon.open { transform: rotate(180deg); }
        .acc-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .acc-content.open { max-height: 500px; }
        .acc-inner { padding: 12px; }
        
        .ctrl-item { margin-bottom: 12px; }
        .ctrl-item label { 
            display: block; 
            color: #495057; 
            font-weight: 500; 
            margin-bottom: 6px; 
            font-size: 0.85rem;
        }
        .slider-row { 
            display: flex; 
            align-items: center; 
            gap: 8px;
        }
        .slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        .slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        .val-display {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 6px 10px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #495057;
            min-width: 70px;
            text-align: center;
        }
        .chk-row { 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            margin-bottom: 8px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .chk { 
            width: 20px; 
            height: 20px; 
            cursor: pointer;
        }
        .chk-row label {
            margin: 0;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .theory {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .theory h2 { 
            color: #2c3e50; 
            margin-bottom: 12px; 
            font-size: 1.2rem;
        }
        .theory-txt { 
            line-height: 1.6; 
            color: #495057;
            font-size: 0.9rem;
        }
        .theory-txt p { margin-bottom: 10px; }
        .theory-txt ul { 
            margin: 10px 0 10px 20px;
            font-size: 0.85rem;
        }
        .theory-txt li { margin-bottom: 6px; }
        .formula {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            margin: 10px 0;
            text-align: center;
            font-size: 0.85rem;
        }
        
        @media (min-width: 600px) {
            .preset-btns { grid-template-columns: repeat(4, 1fr); }
            #canvas { height: 350px; }
            .status-compact { grid-template-columns: repeat(4, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öñÔ∏è Nyutonning birinchi qonuni (Inersiya)</h1>
            <p>Jism tinchlik yoki tekis to'g'ri chiziqli harakat holatini saqlaydi</p>
        </div>

        <div class="sim-box">
            <div class="preset-btns">
                <button class="btn btn-primary" id="btnUniform">üìè Tekis harakat</button>
                <button class="btn btn-secondary" id="btnRest">‚è∏Ô∏è Tinchlik</button>
                <button class="btn btn-warning" id="btnForce">‚ö° Kuch</button>
                <button class="btn btn-danger" id="btnFriction">üî• Ishqalanish</button>
            </div>

            <div class="canvas-wrap">
                <canvas id="canvas"></canvas>
                <div class="info-overlay">
                    <div><strong>Massa:</strong> <span id="dispMass">1.0</span> kg</div>
                    <div><strong>Tezlik:</strong> <span id="dispVel">0.0</span> m/s</div>
                    <div><strong>Kuch:</strong> <span id="dispForce">0.0</span> N</div>
                </div>
            </div>

            <div class="status-compact">
                <div class="stat-item">
                    <div class="stat-label">Holat</div>
                    <div class="stat-value" id="stMotion">Tinch</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Kuch</div>
                    <div class="stat-value" id="stForce">0 N</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Tezlanish</div>
                    <div class="stat-value" id="stAccel">0 m/s¬≤</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Inersiya</div>
                    <div class="stat-value" id="stInert">Maks</div>
                </div>
            </div>

            <div class="ctrl-btns">
                <button class="btn btn-primary" id="playBtn">‚ñ∂ Boshlash</button>
                <button class="btn btn-secondary" id="resetBtn">üîÑ Qayta</button>
                <button class="btn btn-warning" id="stepBtn">‚è≠ Qadam</button>
            </div>

            <div class="accordion">
                <div class="acc-header" onclick="toggleAcc(0)">
                    <span>‚öôÔ∏è Parametrlar</span>
                    <span class="acc-icon" id="icon0">‚ñº</span>
                </div>
                <div class="acc-content" id="acc0">
                    <div class="acc-inner">
                        <div class="ctrl-item">
                            <label>Tezlik (0.1x - 5x):</label>
                            <div class="slider-row">
                                <input type="range" class="slider" id="slSpeed" min="0.1" max="5" step="0.1" value="1">
                                <div class="val-display" id="vSpeed">1.0x</div>
                            </div>
                        </div>
                        <div class="ctrl-item">
                            <label>Massa (0.1 - 10 kg):</label>
                            <div class="slider-row">
                                <input type="range" class="slider" id="slMass" min="0.1" max="10" step="0.1" value="1">
                                <div class="val-display" id="vMass">1.0 kg</div>
                            </div>
                        </div>
                        <div class="ctrl-item">
                            <label>Boshlang'ich tezlik (0-20 m/s):</label>
                            <div class="slider-row">
                                <input type="range" class="slider" id="slVel" min="0" max="20" step="0.5" value="0">
                                <div class="val-display" id="vVel">0.0 m/s</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <div class="acc-header" onclick="toggleAcc(1)">
                    <span>üîß Kuchlar</span>
                    <span class="acc-icon" id="icon1">‚ñº</span>
                </div>
                <div class="acc-content" id="acc1">
                    <div class="acc-inner">
                        <div class="ctrl-item">
                            <label>Qo'llaniladigan kuch (-50 - 50 N):</label>
                            <div class="slider-row">
                                <input type="range" class="slider" id="slForce" min="-50" max="50" step="1" value="0">
                                <div class="val-display" id="vForce">0.0 N</div>
                            </div>
                        </div>
                        <div class="chk-row">
                            <input type="checkbox" class="chk" id="chkFric" checked>
                            <label for="chkFric">Ishqalanish mavjud</label>
                        </div>
                        <div class="ctrl-item">
                            <label>Ishqalanish koeffitsienti (0-1):</label>
                            <div class="slider-row">
                                <input type="range" class="slider" id="slFric" min="0" max="1" step="0.01" value="0.1">
                                <div class="val-display" id="vFric">0.10</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <div class="acc-header" onclick="toggleAcc(2)">
                    <span>üëÅÔ∏è Ko'rsatish</span>
                    <span class="acc-icon" id="icon2">‚ñº</span>
                </div>
                <div class="acc-content" id="acc2">
                    <div class="acc-inner">
                        <div class="chk-row">
                            <input type="checkbox" class="chk" id="chkVec" checked>
                            <label for="chkVec">Vektorlarni ko'rsatish</label>
                        </div>
                        <div class="chk-row">
                            <input type="checkbox" class="chk" id="chkTrail" checked>
                            <label for="chkTrail">Harakat izini ko'rsatish</label>
                        </div>
                        <div class="chk-row">
                            <input type="checkbox" class="chk" id="chkGrid">
                            <label for="chkGrid">To'rni ko'rsatish</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="theory">
            <h2>üß† Nazariy ma'lumotlar</h2>
            <div class="theory-txt">
                <p><strong>Nyutonning birinchi qonuni (Inersiya qonuni):</strong></p>
                <div class="formula">
                    Agar jismga ta'sir qiluvchi barcha kuchlarning natijaviy kuchi nolga teng bo'lsa, jism o'zining tinchlik holatini yoki tekis to'g'ri chiziqli harakat holatini saqlaydi.
                </div>
                
                <p><strong>Matematik ifoda:</strong></p>
                <div class="formula">$$\sum \vec{F} = 0 \Rightarrow \vec{v} = \text{const}$$</div>

                <p><strong>Asosiy tushunchalar:</strong></p>
                <ul>
                    <li><strong>Inersiya</strong> - jismning harakat holatini saqlab qolish xususiyati</li>
                    <li><strong>Massa</strong> - jismning inertsiyalik o'lchovi</li>
                    <li><strong>Kuch</strong> - harakat holatini o'zgartiruvchi ta'sir</li>
                    <li><strong>Ishqalanish</strong> - harakatga qarshi yo'nalgan kuch</li>
                </ul>

                <p><strong>Hayotiy misollar:</strong></p>
                <ul>
                    <li>Avtomobil to'xtaganda yo'lovchilar oldinga siljiydi</li>
                    <li>Kosmosda jismlar tekis harakat qiladi</li>
                    <li>Stol ustidagi narsa o'z holatini saqlaydi</li>
                    <li>Transport vositalarida inersiya seziladi</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const c = document.getElementById('canvas');
        const ctx = c.getContext('2d');
        
        function resize() {
            const r = c.getBoundingClientRect();
            c.width = r.width;
            c.height = r.height;
        }
        resize();
        window.addEventListener('resize', resize);

        let sim = {
            run: false,
            spd: 1,
            t: 0,
            obj: { x:50, y:150, w:40, h:40, m:1, v:0, a:0 },
            f: { app:0, fric:0, net:0 },
            fric: { on:true, k:0.1, n:9.8 },
            trail: [],
            maxT: 150,
            vec: true,
            tr: true,
            grid: false
        };

        const el = {
            playBtn: document.getElementById('playBtn'),
            resetBtn: document.getElementById('resetBtn'),
            stepBtn: document.getElementById('stepBtn'),
            btnUniform: document.getElementById('btnUniform'),
            btnRest: document.getElementById('btnRest'),
            btnForce: document.getElementById('btnForce'),
            btnFriction: document.getElementById('btnFriction'),
            slSpeed: document.getElementById('slSpeed'),
            vSpeed: document.getElementById('vSpeed'),
            slMass: document.getElementById('slMass'),
            vMass: document.getElementById('vMass'),
            slVel: document.getElementById('slVel'),
            vVel: document.getElementById('vVel'),
            slForce: document.getElementById('slForce'),
            vForce: document.getElementById('vForce'),
            chkFric: document.getElementById('chkFric'),
            slFric: document.getElementById('slFric'),
            vFric: document.getElementById('vFric'),
            chkVec: document.getElementById('chkVec'),
            chkTrail: document.getElementById('chkTrail'),
            chkGrid: document.getElementById('chkGrid'),
            dispMass: document.getElementById('dispMass'),
            dispVel: document.getElementById('dispVel'),
            dispForce: document.getElementById('dispForce'),
            stMotion: document.getElementById('stMotion'),
            stForce: document.getElementById('stForce'),
            stAccel: document.getElementById('stAccel'),
            stInert: document.getElementById('stInert')
        };

        function toggleAcc(n) {
            const acc = document.getElementById('acc'+n);
            const icon = document.getElementById('icon'+n);
            acc.classList.toggle('open');
            icon.classList.toggle('open');
        }

        el.slSpeed.oninput = e => { sim.spd = parseFloat(e.target.value); el.vSpeed.textContent = sim.spd.toFixed(1)+'x'; };
        el.slMass.oninput = e => { sim.obj.m = parseFloat(e.target.value); el.vMass.textContent = sim.obj.m.toFixed(1)+' kg'; upd(); };
        el.slVel.oninput = e => { sim.obj.v = parseFloat(e.target.value); el.vVel.textContent = sim.obj.v.toFixed(1)+' m/s'; };
        el.slForce.oninput = e => { sim.f.app = parseFloat(e.target.value); el.vForce.textContent = sim.f.app.toFixed(1)+' N'; upd(); };
        el.chkFric.onchange = e => { sim.fric.on = e.target.checked; upd(); };
        el.slFric.oninput = e => { sim.fric.k = parseFloat(e.target.value); el.vFric.textContent = sim.fric.k.toFixed(2); upd(); };
        el.chkVec.onchange = e => sim.vec = e.target.checked;
        el.chkTrail.onchange = e => sim.tr = e.target.checked;
        el.chkGrid.onchange = e => sim.grid = e.target.checked;

        let drag = false, sx = 0, sy = 0;
        c.addEventListener('touchstart', e => {
            e.preventDefault();
            const t = e.touches[0], r = c.getBoundingClientRect();
            sx = t.clientX - r.left; sy = t.clientY - r.top;
            if(sx>=sim.obj.x && sx<=sim.obj.x+sim.obj.w && sy>=sim.obj.y && sy<=sim.obj.y+sim.obj.h) {
                drag=true;
                sim.run=false;
                el.playBtn.textContent='‚ñ∂ Boshlash';
            }
        }, {passive: false});
        
        c.addEventListener('touchmove', e => {
            e.preventDefault();
            if(!drag) return;
            const t = e.touches[0], r = c.getBoundingClientRect();
            const tx = t.clientX - r.left, ty = t.clientY - r.top;
            sim.obj.x = Math.max(0, Math.min(c.width-sim.obj.w, sim.obj.x+tx-sx));
            sim.obj.y = Math.max(0, Math.min(c.height-sim.obj.h, sim.obj.y+ty-sy));
            sx = tx; sy = ty;
        }, {passive: false});
        
        c.addEventListener('touchend', () => drag=false, {passive: false});

        function upd() {
            if(sim.fric.on && Math.abs(sim.obj.v)>0.001) {
                const d = sim.obj.v>0 ? -1:1;
                sim.f.fric = d*sim.fric.k*sim.obj.m*sim.fric.n;
            } else sim.f.fric = 0;
            
            sim.f.net = sim.f.app + sim.f.fric;
            sim.obj.a = sim.f.net / sim.obj.m;
            
            if(sim.run) {
                const dt = 0.016*sim.spd;
                sim.obj.v += sim.obj.a*dt;
                sim.obj.x += sim.obj.v*dt*10;
                
                if(sim.obj.x<=0) { sim.obj.x=0; sim.obj.v=0; }
                if(sim.obj.x>=c.width-sim.obj.w) { sim.obj.x=c.width-sim.obj.w; sim.obj.v=0; }
                
                if(sim.tr) {
                    sim.trail.push({x:sim.obj.x+sim.obj.w/2, y:sim.obj.y+sim.obj.h/2});
                    if(sim.trail.length>sim.maxT) sim.trail.shift();
                }
                sim.t += dt;
            }
            updSt();
        }

        function updSt() {
            el.dispMass.textContent = sim.obj.m.toFixed(1);
            el.dispVel.textContent = sim.obj.v.toFixed(1);
            el.dispForce.textContent = sim.f.net.toFixed(1);
            el.stForce.textContent = sim.f.net.toFixed(1)+' N';
            el.stAccel.textContent = sim.obj.a.toFixed(1)+' m/s¬≤';
            
            if(Math.abs(sim.obj.v)<0.01) el.stMotion.textContent='Tinch';
            else if(Math.abs(sim.obj.a)<0.01) el.stMotion.textContent='Tekis';
            else el.stMotion.textContent='Tezlan';
            
            el.stInert.textContent = Math.abs(sim.f.net)<0.01 ? 'Maks':'Kam';
        }

        function drawGrid() {
            if(!sim.grid) return;
            ctx.strokeStyle='rgba(255,255,255,0.3)'; ctx.lineWidth=1;
            for(let x=0; x<=c.width; x+=40) {
                ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,c.height); ctx.stroke();
            }
            for(let y=0; y<=c.height; y+=40) {
                ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(c.width,y); ctx.stroke();
            }
        }

        function drawTrail() {
            if(!sim.tr || sim.trail.length<2) return;
            ctx.strokeStyle='rgba(76,175,80,0.6)'; ctx.lineWidth=3; ctx.lineCap='round';
            ctx.beginPath();
            sim.trail.forEach((p,i) => i===0 ? ctx.moveTo(p.x,p.y):ctx.lineTo(p.x,p.y));
            ctx.stroke();
        }

        function drawObj() {
            const o = sim.obj;
            const i = Math.min(255, 100+o.m*40);
            ctx.fillStyle = `rgb(${i},${200-i/2},100)`;
            ctx.shadowColor = 'rgba(0,0,0,0.3)';
            ctx.shadowBlur = 10;
            ctx.shadowOffsetY = 5;
            ctx.fillRect(o.x,o.y,o.w,o.h);
            ctx.shadowBlur = 0;
            ctx.strokeStyle='#333'; ctx.lineWidth=2;
            ctx.strokeRect(o.x,o.y,o.w,o.h);
            ctx.fillStyle='#fff'; ctx.font='bold 13px Arial'; ctx.textAlign='center';
            ctx.fillText(o.m.toFixed(1)+'kg', o.x+o.w/2, o.y+o.h/2+5);
        }

        function drawVec(x,y,m,col,lbl) {
            const len=Math.abs(m)*2, dir=m>=0?1:-1;
            if(len<2) return;
            ctx.strokeStyle=col; ctx.fillStyle=col; ctx.lineWidth=3; ctx.lineCap='round';
            const ex=x+dir*len, ey=y;
            ctx.beginPath(); ctx.moveTo(x,y); ctx.lineTo(ex,ey); ctx.stroke();
            const sz=8;
            ctx.beginPath(); ctx.moveTo(ex,ey); 
            ctx.lineTo(ex-dir*sz,ey-sz/2); ctx.lineTo(ex-dir*sz,ey+sz/2);
            ctx.closePath(); ctx.fill();
            ctx.font='bold 11px Arial'; ctx.textAlign='center';
            ctx.fillText(lbl, ex+dir*20, ey-8);
        }

        function drawVecs() {
            if(!sim.vec) return;
            const o=sim.obj, cx=o.x+o.w/2, cy=o.y+o.h/2;
            if(Math.abs(sim.f.app)>0.5) drawVec(cx,cy,sim.f.app,'#f44','F');
            if(Math.abs(o.v)>0.5) drawVec(cx,cy-35,o.v,'#44f','v');
            if(Math.abs(sim.f.fric)>0.5) drawVec(cx,cy+35,sim.f.fric,'#f80','f');
        }

        function render() {
            ctx.clearRect(0,0,c.width,c.height);
            const g = ctx.createLinearGradient(0,0,0,c.height);
            g.addColorStop(0,'#87CEEB'); g.addColorStop(1,'#98FB98');
            ctx.fillStyle=g; ctx.fillRect(0,0,c.width,c.height);
            drawGrid(); drawTrail(); drawObj(); drawVecs();
            upd();
            requestAnimationFrame(render);
        }

        el.playBtn.onclick = () => {
            sim.run = !sim.run;
            el.playBtn.textContent = sim.run ? '‚è∏ To\'xtatish':'‚ñ∂ Boshlash';
        };

        el.resetBtn.onclick = () => {
            sim.run=false; sim.t=0; sim.obj.x=50; sim.obj.y=150; sim.obj.v=0; sim.obj.a=0; sim.trail=[];
            el.playBtn.textContent='‚ñ∂ Boshlash'; upd();
        };

        el.stepBtn.onclick = () => {
            if(!sim.run) {
                upd();
                const dt=0.016*sim.spd;
                sim.obj.v+=sim.obj.a*dt;
                sim.obj.x+=sim.obj.v*dt*10;
                if(sim.obj.x<=0) { sim.obj.x=0; sim.obj.v=0; }
                if(sim.obj.x>=c.width-sim.obj.w) { sim.obj.x=c.width-sim.obj.w; sim.obj.v=0; }
                sim.t+=dt;
            }
        };

        el.btnUniform.onclick = () => {
            el.resetBtn.onclick();
            sim.obj.v=10; sim.f.app=0; sim.fric.on=false;
            el.slVel.value=10; el.vVel.textContent='10.0 m/s';
            el.slForce.value=0; el.vForce.textContent='0.0 N';
            el.chkFric.checked=false;
            upd();
        };

        el.btnRest.onclick = () => {
            el.resetBtn.onclick();
            sim.obj.v=0; sim.f.app=0; sim.fric.on=true;
            el.slVel.value=0; el.vVel.textContent='0.0 m/s';
            el.slForce.value=0; el.vForce.textContent='0.0 N';
            el.chkFric.checked=true;
            upd();
        };

        el.btnForce.onclick = () => {
            el.resetBtn.onclick();
            sim.obj.v=0; sim.f.app=20; sim.fric.on=false;
            el.slVel.value=0; el.vVel.textContent='0.0 m/s';
            el.slForce.value=20; el.vForce.textContent='20.0 N';
            el.chkFric.checked=false;
            upd();
        };

        el.btnFriction.onclick = () => {
            el.resetBtn.onclick();
            sim.obj.v=15; sim.f.app=0; sim.fric.on=true; sim.fric.k=0.3;
            el.slVel.value=15; el.vVel.textContent='15.0 m/s';
            el.slForce.value=0; el.vForce.textContent='0.0 N';
            el.chkFric.checked=true;
            el.slFric.value=0.3; el.vFric.textContent='0.30';
            upd();
        };

        upd();
        render();
        if(window.MathJax) MathJax.typesetPromise();
    </script>
</body>
</html>
