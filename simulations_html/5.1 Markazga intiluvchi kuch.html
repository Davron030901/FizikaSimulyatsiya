<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Markazga Intiluvchi Kuch</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
            min-height: 100vh;
            padding: 8px;
        }

        .header {
            text-align: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            margin-bottom: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 1.3rem;
            color: #667eea;
            margin-bottom: 4px;
        }

        .header p {
            font-size: 0.75rem;
            color: #666;
        }

        .canvas-container {
            background: white;
            border-radius: 12px;
            padding: 8px;
            margin-bottom: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        #canvas {
            width: 100%;
            height: 300px;
            border-radius: 8px;
            background: radial-gradient(circle, #f8f9fa 0%, #e9ecef 100%);
            touch-action: none;
        }

        .controls {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 12px;
        }

        .btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        .btn:active {
            transform: scale(0.95);
        }

        .slider-group {
            margin-bottom: 12px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            font-size: 0.85rem;
            color: #495057;
        }

        .slider-value {
            background: #007bff;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #007bff;
            border: none;
        }

        .data-display {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .data-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 0.8rem;
            border-bottom: 1px solid #dee2e6;
        }

        .data-row:last-child {
            border-bottom: none;
        }

        .data-value {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600;
        }

        .presets {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
            margin-top: 8px;
        }

        .preset-btn {
            padding: 8px;
            border: 2px solid #007bff;
            background: white;
            color: #007bff;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
        }

        .preset-btn:active {
            background: #007bff;
            color: white;
        }

        .toggles {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
            margin-top: 8px;
        }

        .toggle {
            padding: 8px;
            border: 2px solid #28a745;
            background: white;
            color: #28a745;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .toggle.active {
            background: #28a745;
            color: white;
        }

        .formulas {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .formula {
            background: #f8f9fa;
            padding: 8px;
            border-radius: 6px;
            margin-bottom: 6px;
            font-size: 0.75rem;
            border-left: 3px solid #007bff;
        }

        .formula:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéØ Markazga Intiluvchi Kuch</h1>
        <p>Doira bo'ylab harakat simulyatsiyasi</p>
    </div>

    <div class="canvas-container">
        <canvas id="canvas"></canvas>
    </div>

    <div class="controls">
        <div class="btn-group">
            <button class="btn btn-primary" id="playBtn" onclick="togglePlay()">‚ñ∂Ô∏è Boshlash</button>
            <button class="btn btn-danger" onclick="reset()">üîÑ Qayta</button>
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>Massa (m)</span>
                <span class="slider-value"><span id="massVal">1.0</span> kg</span>
            </div>
            <input type="range" class="slider" id="mass" min="0.1" max="10" step="0.1" value="1.0" oninput="updateParams()">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>Radius (r)</span>
                <span class="slider-value"><span id="radiusVal">1.0</span> m</span>
            </div>
            <input type="range" class="slider" id="radius" min="0.5" max="3" step="0.1" value="1.0" oninput="updateParams()">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>Tezlik (v)</span>
                <span class="slider-value"><span id="velocityVal">2.0</span> m/s</span>
            </div>
            <input type="range" class="slider" id="velocity" min="0.5" max="15" step="0.1" value="2.0" oninput="updateParams()">
        </div>

        <div class="data-display">
            <div class="data-row">
                <span>Markazga intiluvchi kuch:</span>
                <span class="data-value" id="force">4.0 N</span>
            </div>
            <div class="data-row">
                <span>Tezlanish:</span>
                <span class="data-value" id="accel">4.0 m/s¬≤</span>
            </div>
            <div class="data-row">
                <span>Burchak tezligi:</span>
                <span class="data-value" id="omega">2.0 rad/s</span>
            </div>
            <div class="data-row">
                <span>Davr:</span>
                <span class="data-value" id="period">3.14 s</span>
            </div>
        </div>

        <div class="presets">
            <button class="preset-btn" onclick="setPreset('slow')">Sekin</button>
            <button class="preset-btn" onclick="setPreset('fast')">Tez</button>
            <button class="preset-btn" onclick="setPreset('heavy')">Og'ir</button>
            <button class="preset-btn" onclick="setPreset('light')">Yengil</button>
            <button class="preset-btn" onclick="setPreset('large')">Katta</button>
            <button class="preset-btn" onclick="setPreset('small')">Kichik</button>
        </div>

        <div class="toggles">
            <button class="toggle active" id="velToggle" onclick="toggleVector('vel')">Tezlik</button>
            <button class="toggle active" id="forceToggle" onclick="toggleVector('force')">Kuch</button>
            <button class="toggle active" id="accelToggle" onclick="toggleVector('accel')">Tezlanish</button>
            <button class="toggle active" id="trailToggle" onclick="toggleVector('trail')">Iz</button>
        </div>
    </div>

    <div class="formulas">
        <div class="formula">
            <strong>Kuch:</strong> Fc = mv¬≤/r = mœâ¬≤r
        </div>
        <div class="formula">
            <strong>Tezlanish:</strong> ac = v¬≤/r = œâ¬≤r
        </div>
        <div class="formula">
            <strong>Burchak tezligi:</strong> œâ = v/r = 2œÄ/T
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let running = false;
        let angle = 0;
        let trail = [];
        let show = { vel: true, force: true, accel: true, trail: true };
        
        let m = 1.0, r = 1.0, v = 2.0;
        
        function resize() {
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            draw();
        }
        
        function updateParams() {
            m = parseFloat(document.getElementById('mass').value);
            r = parseFloat(document.getElementById('radius').value);
            v = parseFloat(document.getElementById('velocity').value);
            
            document.getElementById('massVal').textContent = m.toFixed(1);
            document.getElementById('radiusVal').textContent = r.toFixed(1);
            document.getElementById('velocityVal').textContent = v.toFixed(1);
            
            const Fc = m * v * v / r;
            const ac = v * v / r;
            const omega = v / r;
            const T = 2 * Math.PI / omega;
            
            document.getElementById('force').textContent = Fc.toFixed(2) + ' N';
            document.getElementById('accel').textContent = ac.toFixed(2) + ' m/s¬≤';
            document.getElementById('omega').textContent = omega.toFixed(2) + ' rad/s';
            document.getElementById('period').textContent = T.toFixed(2) + ' s';
            
            if (!running) draw();
        }
        
        function togglePlay() {
            running = !running;
            const btn = document.getElementById('playBtn');
            btn.innerHTML = running ? '‚è∏Ô∏è Pauza' : '‚ñ∂Ô∏è Boshlash';
            if (running) animate();
        }
        
        function reset() {
            running = false;
            angle = 0;
            trail = [];
            document.getElementById('playBtn').innerHTML = '‚ñ∂Ô∏è Boshlash';
            draw();
        }
        
        function toggleVector(type) {
            show[type] = !show[type];
            const toggle = document.getElementById(type + 'Toggle');
            toggle.classList.toggle('active');
            if (type === 'trail' && !show.trail) trail = [];
            if (!running) draw();
        }
        
        function setPreset(type) {
            const presets = {
                slow: [1.0, 2.0, 1.0],
                fast: [1.0, 1.5, 8.0],
                heavy: [8.0, 1.5, 3.0],
                light: [0.2, 1.0, 5.0],
                large: [2.0, 2.8, 4.0],
                small: [1.5, 0.6, 6.0]
            };
            
            const [mass, rad, vel] = presets[type];
            document.getElementById('mass').value = mass;
            document.getElementById('radius').value = rad;
            document.getElementById('velocity').value = vel;
            updateParams();
        }
        
        function animate() {
            if (!running) return;
            
            const omega = v / r;
            angle += omega * 0.02;
            
            if (show.trail) {
                const cx = canvas.width / 2;
                const cy = canvas.height / 2;
                const scale = Math.min(canvas.width, canvas.height) / 6;
                const x = cx + r * scale * Math.cos(angle);
                const y = cy + r * scale * Math.sin(angle);
                trail.push({ x, y, alpha: 1 });
                trail = trail.slice(-50).map(p => ({ ...p, alpha: p.alpha - 0.02 })).filter(p => p.alpha > 0);
            }
            
            draw();
            requestAnimationFrame(animate);
        }
        
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;
            const scale = Math.min(canvas.width, canvas.height) / 6;
            const R = r * scale;
            
            // Grid
            ctx.strokeStyle = '#e9ecef';
            ctx.lineWidth = 1;
            ctx.setLineDash([3, 3]);
            for (let i = scale; i < canvas.width; i += scale) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
            }
            for (let i = scale; i < canvas.height; i += scale) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(canvas.width, i);
                ctx.stroke();
            }
            ctx.setLineDash([]);
            
            // Circle path
            ctx.strokeStyle = '#dee2e6';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(cx, cy, R, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Trail
            if (show.trail) {
                trail.forEach(p => {
                    ctx.fillStyle = `rgba(0,123,255,${p.alpha * 0.5})`;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);
                    ctx.fill();
                });
            }
            
            const x = cx + R * Math.cos(angle);
            const y = cy + R * Math.sin(angle);
            
            // Radius line
            ctx.strokeStyle = '#6c757d';
            ctx.lineWidth = 1;
            ctx.setLineDash([3, 3]);
            ctx.beginPath();
            ctx.moveTo(cx, cy);
            ctx.lineTo(x, y);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Center
            ctx.fillStyle = '#dc3545';
            ctx.beginPath();
            ctx.arc(cx, cy, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Vectors
            if (show.vel) {
                const vAngle = angle + Math.PI / 2;
                drawArrow(x, y, x + 40 * Math.cos(vAngle), y + 40 * Math.sin(vAngle), '#28a745', 3);
            }
            
            if (show.force) {
                const fAngle = angle + Math.PI;
                drawArrow(x, y, x + 50 * Math.cos(fAngle), y + 50 * Math.sin(fAngle), '#dc3545', 4);
            }
            
            if (show.accel) {
                const aAngle = angle + Math.PI;
                drawArrow(x, y, x + 35 * Math.cos(aAngle), y + 35 * Math.sin(aAngle), '#ffc107', 3);
            }
            
            // Object
            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.beginPath();
            ctx.arc(x + 2, y + 2, 10, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.fillStyle = '#007bff';
            ctx.strokeStyle = '#0056b3';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(x, y, 10, 0, 2 * Math.PI);
            ctx.fill();
            ctx.stroke();
        }
        
        function drawArrow(x1, y1, x2, y2, color, width) {
            const angle = Math.atan2(y2 - y1, x2 - x1);
            const headLen = 8;
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = width;
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(x2, y2);
            ctx.lineTo(x2 - headLen * Math.cos(angle - Math.PI / 6), y2 - headLen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(x2 - headLen * Math.cos(angle + Math.PI / 6), y2 - headLen * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }
        
        window.addEventListener('resize', resize);
        resize();
        updateParams();
    </script>
</body>
</html>
